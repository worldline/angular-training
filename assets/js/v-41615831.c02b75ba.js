"use strict";(self.webpackChunkangular_training=self.webpackChunkangular_training||[]).push([[596],{1613:(n,s,e)=>{e.r(s),e.d(s,{default:()=>M});var a=e(6252),t=e(3260),o=e(2843),c=e(7422),l=e(7151);const p=(0,a.uE)('<h1 id="services" tabindex="-1"><a class="header-anchor" href="#services" aria-hidden="true">#</a> Services</h1><p>Avec les composants et les directives, les services sont l&#39;un des principaux blocs de construction d&#39;une application Angular.</p><p>La seule préoccupation d&#39;un composant devrait être d&#39;afficher des données et non de les gérer. Les services sont là où l&#39;équipe Angular préconise de placer la logique métier et la gestion des données de l&#39;application. Avoir une séparation claire entre la couche de présentation et les autres traitements de l&#39;application augmente la réutilisabilité et la modularité.</p><p>La création d&#39;un service avec le CLI se fait comme suit :</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ng generate <span class="token function">service</span> services/example\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Cela créera le service et sa classe de test associée dans le dossier <code>app/services</code>. Il est courant de placer les services dans un dossier de services, le CLI créera le dossier s&#39;il n&#39;existe pas déjà.</p><p>Le contenu suivant est généré automatiquement dans le fichier <code>example.service.ts</code> :</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span>\n\n<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  providedIn<span class="token operator">:</span> <span class="token string">&#39;root&#39;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExampleService</span> <span class="token punctuation">{</span>\n\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Lorsqu&#39;un composant nécessite un service, le service doit être injecté de la manière suivante :</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> ExampleService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;app/services/example.service&#39;</span>\n\n<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  selector<span class="token operator">:</span> <span class="token string">&#39;app-example&#39;</span><span class="token punctuation">,</span>\n  templateUrl<span class="token operator">:</span> <span class="token string">&#39;./example.component.html&#39;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token punctuation">{</span>\n  <span class="token keyword">private</span> <span class="token keyword">readonly</span> exampleService <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>ExampleService<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Déclarez toujours une dépendance à un service comme privée. En effet le template ne devrait jamais accéder directement à un service mais toujours passer par une propriété ou une méthode exposée par la classe composant.</p></div><h2 id="dependency-injection" tabindex="-1"><a class="header-anchor" href="#dependency-injection" aria-hidden="true">#</a> Dependency Injection</h2><p>Dans le chapitre précédent, nous avons injecté des services fournis par la librairie <code>@angular/router</code> dans les composants qui en ont besoin. Si vous êtes familier avec Spring, vous n&#39;y avez peut-être pas beaucoup réfléchi car c&#39;est l&#39;un des mécanismes du framework.</p><p>Au démarrage, Angular crée un injecteur à l&#39;échelle de l&#39;application. Si d&#39;autres injecteurs sont nécessaires, Angular les créera en cours de route. L&#39;injecteur crée des dépendances (le plus souvent sous forme de services) et maintient un conteneur d&#39;instances de dépendances qu&#39;il réutilise si possible. L&#39;injecteur obtient les informations sur la façon de créer ou de récupérer une dépendance auprès d&#39;un fournisseur (provider). Un service agit généralement comme son propre fournisseur.</p><p>Vous ne l&#39;avez peut-être pas réalisé, mais nous avons déjà fait appel à des fournisseurs. Dans le chapitre sur les pipes, pour utiliser le <code>UpperCasePipe</code> dans la classe du composant plutôt que dans le template, nous l&#39;avons ajouté au tableau des providers du composant.</p><p>Lorsque Angular découvre qu&#39;un composant dépend d&#39;un service, il vérifie d&#39;abord si l&#39;injecteur a une instance existante de ce service. Si une instance du service demandé n&#39;existe pas encore, l&#39;injecteur en crée une à l&#39;aide du provider enregistré et l&#39;ajoute à l&#39;injecteur avant de renvoyer le service à Angular. Lorsque tous les services demandés ont été résolus et renvoyés, Angular peut instancié le composant avec ces services.</p><p>Les dépendances peuvent être fournies à trois niveaux :</p><ul><li><strong>au niveau root:</strong> c&#39;est le comportement par défaut lors de la création d&#39;un service avec le CLI. C&#39;est ce que signifie <code>providedIn: &#39;root&#39;</code>. La <em>même instance</em> de la dépendance est injectée partout où elle est nécessaire comme s&#39;il s&#39;agissait d&#39;un singleton.</li><li><strong>au niveau de la route:</strong> la dépendance est ajoutée au tableau de providers de la <code>Route</code>. La route et ses enfants obtiennent leur propre instance de la dépendance</li><li><strong>au niveau du composant:</strong> la dépendance est ajoutée au tableau des providers du composant. Chaque instance de ce composant obtient sa propre instance de la dépendance.</li></ul><h2 id="tp-gestion-de-l-etat" tabindex="-1"><a class="header-anchor" href="#tp-gestion-de-l-etat" aria-hidden="true">#</a> TP : Gestion de l&#39;État</h2><ol><li>Générez un <code>AuthenticationService</code> avec le CLI dans le dossier <code>app/services</code></li><li>Déplacez la logique du <code>loggedIn</code> du composant <code>App</code> vers le service</li><li>Injectez le service dans le <code>LoginFormComponent</code> et utilisez-le.</li><li>Implémentez une méthode de déconnexion dans le service d&#39;authentification et ajoutez un bouton de déconnexion dans le composant <code>App</code> qui l&#39;appelle et provoque une navigation vers le <code>LoginFormComponent</code>. Voici l&#39;html et le css :</li></ol>',20),i=(0,a._)("div",{class:"language-html line-numbers-mode","data-ext":"html"},[(0,a._)("pre",{class:"language-html"},[(0,a._)("code",null,[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("button")]),(0,a.Uk)(),(0,a._)("span",{class:"token attr-name"},"class"),(0,a._)("span",{class:"token attr-value"},[(0,a._)("span",{class:"token punctuation attr-equals"},"="),(0,a._)("span",{class:"token punctuation"},'"'),(0,a.Uk)("logout"),(0,a._)("span",{class:"token punctuation"},'"')]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("Logout"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("button")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("router-outlet")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("router-outlet")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),u=(0,a._)("div",{class:"language-scss line-numbers-mode","data-ext":"scss"},[(0,a._)("pre",{class:"language-scss"},[(0,a._)("code",null,[(0,a._)("span",{class:"token selector"},".logout "),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token property"},"align-self"),(0,a._)("span",{class:"token punctuation"},":"),(0,a.Uk)(" end"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),r=(0,a.uE)('<ol start="5"><li>Afficher conditionnellement le bouton Logout en fonction du statut <code>loggedIn</code> de l&#39;utilisateur. Exposez le signal du <code>AuthenticationService</code> dans le fichier <code>app.ts</code> pour passer l&#39;information du service au template (c&#39;est une bonne pratique que de toujours déclarer un service comme private dans la classe d&#39;un composant donc vous aurez besoin d&#39;une variable dans le composant).</li><li>Utilisez un navigation guard pour rediriger l&#39;utilisateur qui souhaite accéder à la page de recherche de films vers <code>/login</code> s&#39;il n&#39;est pas authentifié (rendez la CanActivateFn vrai si la route est accessible sinon retournez un <code>UrlTree</code> via la méthode <code>createUrlTree</code> du service <code>Router</code>). Pour prendre en considération des cas d&#39;usage futur, ajoutez un returnUrl en tant que queryParam au <code>UrlTree</code> renvoyé afin que le <code>LoginFormComponent</code> sache où revenir après l&#39;authentification et modifiez le <code>LoginFormComponent</code> en conséquence. Pour générer le navigation guard, utilisez la commande du CLI suivante :</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ng generate guard guards/authentication\n<span class="token comment"># ? Which interfaces would you like to implement? CanActivate</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary>Aide pour injecter un service dans la fonction guard</summary><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> authenticationGuard<span class="token operator">:</span> <span class="token function-variable function">CanActivateFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>route<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> authenticationService <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>AuthenticationService<span class="token punctuation">)</span>\n  <span class="token comment">// ...</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="custom-container details"><summary>Aide pour l&#39;UrlTree</summary><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token function">inject</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createUrlTree</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> queryParams<span class="token operator">:</span> <span class="token punctuation">{</span> returnUrl<span class="token operator">:</span> state<span class="token punctuation">.</span>url <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></details><details class="custom-container details"><summary>Résultat attendu</summary><p><img src="'+t+'" alt="Résultat visuel du TP services"></p><p><img src="'+o+'" alt="Résultat visuel du TP services"></p></details><h2 id="le-httpclient" tabindex="-1"><a class="header-anchor" href="#le-httpclient" aria-hidden="true">#</a> Le HttpClient</h2><p>Dans une Single Page Application (SPA), la communication avec le serveur se fait via des requêtes HTTP asynchrones (AJAX) ou des protocoles plus spécialisés tels que WebSocket. Nous allons voir comment faire ces requêtes réseau depuis une application Angular.</p><p>Angular fournit un module, le <code>HttpClientModule</code>, pour effectuer des appels HTTP. Le module fournit un service injectable, le <code>HttpClient</code>, pour faire des requêtes GET, POST, PATCH, DELETE et PUT. Pour injecter le <code>HttpClient</code> dans un service, ajoutez d&#39;abord le <code>HttpClientModule</code> au tableau de <code>providers</code> de l&#39;application dans le fichier <code>app.config.ts</code> en lui passant la fonction <code>provideHttpClient()</code>.</p><p>Voici quelques exemples:</p>',9),k=(0,a._)("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[(0,a._)("pre",{class:"language-typescript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" Injectable"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" inject "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'@angular/core'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" HttpClient "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'@angular/common/http'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" Observable "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'rxjs'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" User "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'app/models/user/user'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" UserCreation "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'app/models/user/user-creation'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" UserEdition "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'app/models/user/user-edition'"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token decorator"},[(0,a._)("span",{class:"token at operator"},"@"),(0,a._)("span",{class:"token function"},"Injectable")]),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  providedIn"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'root'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"class"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"UserService"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" httpClient "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"inject"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("HttpClient"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n  "),(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" baseUrl "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'api/backoffice/users'"),(0,a.Uk)("\n\n  "),(0,a._)("span",{class:"token function"},"create"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("user"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" UserCreation"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" Observable"),(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("User"),(0,a._)("span",{class:"token operator"},">"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("httpClient"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token generic-function"},[(0,a._)("span",{class:"token function"},"post"),(0,a._)("span",{class:"token generic class-name"},[(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("User"),(0,a._)("span",{class:"token operator"},">")])]),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("baseUrl"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" user"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n\n  "),(0,a._)("span",{class:"token function"},"update"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("ref"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" user"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" UserEdition"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" Observable"),(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("User"),(0,a._)("span",{class:"token operator"},">"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("httpClient"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token generic-function"},[(0,a._)("span",{class:"token function"},"put"),(0,a._)("span",{class:"token generic class-name"},[(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("User"),(0,a._)("span",{class:"token operator"},">")])]),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token template-string"},[(0,a._)("span",{class:"token template-punctuation string"},"`"),(0,a._)("span",{class:"token interpolation"},[(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("baseUrl"),(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,a._)("span",{class:"token string"},"/"),(0,a._)("span",{class:"token interpolation"},[(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,a.Uk)("ref"),(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,a._)("span",{class:"token template-punctuation string"},"`")]),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" user"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n\n  "),(0,a._)("span",{class:"token function"},"getByUserReference"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("ref"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" Observable"),(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("User"),(0,a._)("span",{class:"token operator"},">"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("httpClient"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token generic-function"},[(0,a._)("span",{class:"token function"},"get"),(0,a._)("span",{class:"token generic class-name"},[(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("User"),(0,a._)("span",{class:"token operator"},">")])]),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token template-string"},[(0,a._)("span",{class:"token template-punctuation string"},"`"),(0,a._)("span",{class:"token interpolation"},[(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("baseUrl"),(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,a._)("span",{class:"token string"},"/"),(0,a._)("span",{class:"token interpolation"},[(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,a.Uk)("ref"),(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,a._)("span",{class:"token template-punctuation string"},"`")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),d=(0,a._)("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[(0,a._)("pre",{class:"language-typescript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" Component"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" inject"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" signal "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'@angular/core'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" User "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'app/models/user/user'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" UserService "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'app/services/user.service'"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token decorator"},[(0,a._)("span",{class:"token at operator"},"@"),(0,a._)("span",{class:"token function"},"Component")]),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  selector"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'app-user'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n  templateUrl"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'./user.component.html'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"class"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"UserComponent"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" userService "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"inject"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("UserService"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n  "),(0,a._)("span",{class:"token keyword"},"protected"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" user "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token generic-function"},[(0,a._)("span",{class:"token function"},"signal"),(0,a._)("span",{class:"token generic class-name"},[(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("User "),(0,a._)("span",{class:"token operator"},"|"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"undefined"),(0,a._)("span",{class:"token operator"},">")])]),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token keyword"},"undefined"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token keyword"},"protected"),(0,a.Uk)(" reference "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"''"),(0,a.Uk)("\n\n  "),(0,a._)("span",{class:"token function"},"getUser"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"void"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("userService"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"getByUserReference"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("reference"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"subscribe"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("user "),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("user"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"set"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("user"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),_=(0,a.uE)('<p>Les méthodes du service <code>HttpClient</code> renvoient des Observables. Ils seront traités dans le prochain chapitre sur la librairie RxJS. Un Observable n&#39;est exécuté qu&#39;une fois souscrit via la méthode <code>subscribe</code>. La méthode subscribe s&#39;attend à ce qu&#39;au moins une callback lui soit passé. La callback est le plus souvent fournie sous forme d&#39;une fonction flèche (arrow function).</p><h2 id="tp-appeler-un-backend" tabindex="-1"><a class="header-anchor" href="#tp-appeler-un-backend" aria-hidden="true">#</a> TP : Appeler un backend</h2><p>Nous utiliserons une API (le <em>backend</em>) pour authentifier les utilisateurs et rechercher des films. Ce backend a déjà été développé et peut être déployé localement en utilisant les lignes de commande suivantes (cloner le repo dans votre dossier de dépôts git habituel):</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/worldline/vuejs-training-backend.git\n<span class="token builtin class-name">cd</span> vuejs-training-backend\n<span class="token function">npm</span> <span class="token function">install</span>\n<span class="token function">npm</span> start\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',4),m=(0,a._)("code",null,"npm start",-1),v={href:"https://www.omdbapi.com/apikey.aspx?__EVENTTARGET=freeAcct&__EVENTARGUMENT=&__LASTFOCUS=&__VIEWSTATE=%2FwEPDwUKLTIwNDY4MTIzNQ9kFgYCAQ9kFgICBw8WAh4HVmlzaWJsZWhkAgIPFgIfAGhkAgMPFgIfAGhkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYDBQtwYXRyZW9uQWNjdAUIZnJlZUFjY3QFCGZyZWVBY2N0oCxKYG7xaZwy2ktIrVmWGdWzxj%2FDhHQaAqqFYTiRTDE%3D&__VIEWSTATEGENERATOR=5E550F58&__EVENTVALIDATION=%2FwEdAAU%2BO86JjTqdg0yhuGR2tBukmSzhXfnlWWVdWIamVouVTzfZJuQDpLVS6HZFWq5fYpioiDjxFjSdCQfbG0SWduXFd8BcWGH1ot0k0SO7CfuulHLL4j%2B3qCcW3ReXhfb4KKsSs3zlQ%2B48KY6Qzm7wzZbR&at=freeAcct&Email=",target:"_blank",rel:"noopener noreferrer"},U={class:"custom-container tip"},b=(0,a._)("p",{class:"custom-container-title"},"TIP",-1),g={href:"http://localhost:3030/api-docs",target:"_blank",rel:"noopener noreferrer"},f=(0,a._)("ol",null,[(0,a._)("li",null,[(0,a.Uk)("Ajoutez au dossier "),(0,a._)("code",null,"src"),(0,a.Uk)(" le fichier "),(0,a._)("code",null,"proxy.conf.json"),(0,a.Uk)(".")])],-1),h=(0,a._)("div",{class:"language-json line-numbers-mode","data-ext":"json"},[(0,a._)("pre",{class:"language-json"},[(0,a._)("code",null,[(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token property"},'"/api/**"'),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token property"},'"target"'),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},'"http://localhost:3030"'),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token property"},'"changeOrigin"'),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token boolean"},"true"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token property"},'"pathRewrite"'),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token property"},'"^/api"'),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},'""'),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),y=(0,a.uE)('<p>Le proxy détournera tous les appels à l&#39;URL commençant par http://localhost:4200/api vers le serveur disponible à l&#39;adresse http://localhost:3030. Cela garantit également que nous ne rencontrerons aucun problème lié aux CORS (dans le cas où le backend ne serait hébergé en local). Cette configuration concerne uniquement le serveur de développement webpack ou vite fourni par le CLI pour exécuter l&#39;application sur votre machine dans un environnement de développement. Ce ne sera pas la configuration utilisée en production.</p><ol start="2"><li>Dans le fichier de configuration CLI - <code>angular.json</code> - ajoutez l&#39;option <code>proxyConfig</code> à la target serve :</li></ol><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>...\n<span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n  <span class="token property">&quot;builder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@angular/build:dev-server&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;proxyConfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/proxy.conf.json&quot;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;configurations&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    ...\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n...\n</code></pre><div class="highlight-lines"><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Redémarrez le projet comme la configuration du CLI a changé (<code>angular.json</code>).</p><ol start="3"><li><p>Ajoutez <code>provideHttpClient()</code> au tableau de <code>providers</code> de l&#39;object <code>appConfig</code> dans le fichier <code>app.config.ts</code>.</p></li><li><p>Créez les interfaces/classes pour les modèles utilisés par le backend, ajoutez un fichier par modèle dans le dossier <code>models/authentication</code> :</p></li></ol>',5),w=(0,a._)("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[(0,a._)("pre",{class:"language-typescript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"class"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"RegistrationRequest"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function"},"constructor"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" email"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" password"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" firstname"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" lastname"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),q=(0,a._)("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[(0,a._)("pre",{class:"language-typescript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"class"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"LoginRequest"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function"},"constructor"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" email"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" password"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),x=(0,a._)("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[(0,a._)("pre",{class:"language-typescript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token keyword"},"import"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(" User "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"from"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'./user'"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"class"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"UserResponse"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function"},"constructor"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" user"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" User"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" token"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),j=(0,a._)("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[(0,a._)("pre",{class:"language-typescript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token comment"},"/* eslint-disable @typescript-eslint/naming-convention */"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"export"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"class"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"User"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token function"},"constructor"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" id"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"number"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" firstname"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" lastname"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" email"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" created_at"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token keyword"},"public"),(0,a.Uk)(" update_at"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token builtin"},"string"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),C=(0,a._)("code",null,"UserResponse",-1),A=(0,a._)("code",null,"Authorization: Bearer <token>",-1),R={href:"https://jwt.io/introduction",target:"_blank",rel:"noopener noreferrer"},L=(0,a._)("ol",{start:"5"},[(0,a._)("li",null,[(0,a.Uk)("Implémentez les méthodes "),(0,a._)("code",null,"register"),(0,a.Uk)(" et "),(0,a._)("code",null,"login"),(0,a.Uk)(" dans "),(0,a._)("code",null,"AuthenticationService"),(0,a.Uk)(" comme suit :")])],-1),S=(0,a._)("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[(0,a._)("pre",{class:"language-typescript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" httpClient "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"inject"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("HttpClient"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" baseUrl "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"'api/user'"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" token "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token generic-function"},[(0,a._)("span",{class:"token function"},"signal"),(0,a._)("span",{class:"token generic class-name"},[(0,a._)("span",{class:"token operator"},"<"),(0,a._)("span",{class:"token builtin"},"string"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"|"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"null"),(0,a._)("span",{class:"token operator"},">")])]),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token keyword"},"null"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token function"},"login"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("loginRequest"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" LoginRequest"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" Observable"),(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("UserResponse"),(0,a._)("span",{class:"token operator"},">"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("httpClient"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token generic-function"},[(0,a._)("span",{class:"token function"},"post"),(0,a._)("span",{class:"token generic class-name"},[(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("UserResponse"),(0,a._)("span",{class:"token operator"},">")])]),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token template-string"},[(0,a._)("span",{class:"token template-punctuation string"},"`"),(0,a._)("span",{class:"token interpolation"},[(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("baseUrl"),(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,a._)("span",{class:"token string"},"/login"),(0,a._)("span",{class:"token template-punctuation string"},"`")]),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" loginRequest"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"pipe"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token function"},"tap"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("response "),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("token"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"set"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("response"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("token"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token function"},"register"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("loginRequest"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" LoginRequest"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" Observable"),(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("UserResponse"),(0,a._)("span",{class:"token operator"},">"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token keyword"},"const"),(0,a.Uk)(" registrationRequest "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"new"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"RegistrationRequest"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("\n    loginRequest"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("email"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    loginRequest"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("password"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token string"},"'John'"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token string"},"'Smith'"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n  "),(0,a._)("span",{class:"token keyword"},"return"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("httpClient"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token generic-function"},[(0,a._)("span",{class:"token function"},"post"),(0,a._)("span",{class:"token generic class-name"},[(0,a._)("span",{class:"token operator"},"<"),(0,a.Uk)("UserResponse"),(0,a._)("span",{class:"token operator"},">")])]),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token template-string"},[(0,a._)("span",{class:"token template-punctuation string"},"`"),(0,a._)("span",{class:"token interpolation"},[(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("baseUrl"),(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,a._)("span",{class:"token string"},"/register"),(0,a._)("span",{class:"token template-punctuation string"},"`")]),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(" registrationRequest"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),z=(0,a._)("ol",{start:"6"},[(0,a._)("li",null,[(0,a.Uk)("La modification de la signature d'appel de la méthode "),(0,a._)("code",null,"login"),(0,a.Uk)(" va nécessiter un peu de refactorisation dans le "),(0,a._)("code",null,"LoginFormComponent"),(0,a.Uk)(" :")])],-1),I=(0,a._)("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[(0,a._)("pre",{class:"language-typescript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" router "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"inject"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("Router"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" activatedRoute "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"inject"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("ActivatedRoute"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" authenticationService "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"inject"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("AuthenticationService"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" loginRequest "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"computed"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"new"),(0,a.Uk)(),(0,a._)("span",{class:"token class-name"},"LoginRequest"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"email"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"password"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token function"},"login"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"void"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("authenticationService"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"login"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"loginRequest"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"subscribe"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(),(0,a._)("span",{class:"token function-variable function"},"next"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token keyword"},"const"),(0,a.Uk)(" postLoginRoute "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("activatedRoute"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("snapshot"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("queryParamMap"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"get"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"'returnUrl'"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n      "),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("router"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"navigateByUrl"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("postLoginRoute "),(0,a._)("span",{class:"token operator"},"?"),(0,a.Uk)(),(0,a._)("span",{class:"token template-string"},[(0,a._)("span",{class:"token template-punctuation string"},"`"),(0,a._)("span",{class:"token string"},"/"),(0,a._)("span",{class:"token interpolation"},[(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,a.Uk)("postLoginRoute"),(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,a._)("span",{class:"token template-punctuation string"},"`")]),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token string"},"''"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token function"},"register"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"void"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("authenticationService"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"register"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"loginRequest"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"subscribe"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),T=(0,a.uE)('<ol start="7"><li>Une refactorisation est également nécessaire pour que l&#39;<code>authenticationGuard</code> continue de fonctionner. Transformez la variable <code>loggedIn</code> dans l&#39;<code>AuthenticationService</code> en signal computed qui dépend du champ <code>token</code>. Refactorez aussi la méthode <code>logout()</code> pour qu&#39;elle remette la valeur du signal <code>token</code> à null.</li></ol>',1),W=(0,a._)("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[(0,a._)("pre",{class:"language-typescript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" loggedIn "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"computed"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"token"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)(),(0,a._)("span",{class:"token operator"},"!=="),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"null"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"})])],-1),E=(0,a._)("ol",{start:"8"},[(0,a._)("li",null,[(0,a.Uk)("Ajoutez un bouton d'enregistrement à côté du bouton de connexion dans le "),(0,a._)("code",null,"LoginFormComponent"),(0,a.Uk)(", donnez-lui l'attribut "),(0,a._)("code",null,'type="button"'),(0,a.Uk)(" afin qu'Angular sache que ce n'est pas ce bouton qui déclenche l'événement "),(0,a._)("code",null,"ngSubmit"),(0,a.Uk)(" sur le formulaire et faites-lui appeler le méthode d'enrôlement. Vous devriez maintenant pouvoir enregistrer un utilisateur et vous connecter. Si l'enrôlement semble ne pas fonctionner, "),(0,a._)("strong",null,"vérifiez l'onglet network des outils de développement de votre navigateur"),(0,a.Uk)(" (onglet preview de l'appel réseau en erreur), votre mail ou mot de passe ne respectent peut-être pas les règles de validation du back.")])],-1),H=(0,a._)("div",{class:"language-html line-numbers-mode","data-ext":"html"},[(0,a._)("pre",{class:"language-html"},[(0,a._)("code",null,[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("div")]),(0,a.Uk)(),(0,a._)("span",{class:"token attr-name"},"class"),(0,a._)("span",{class:"token attr-value"},[(0,a._)("span",{class:"token punctuation attr-equals"},"="),(0,a._)("span",{class:"token punctuation"},'"'),(0,a.Uk)("button-container"),(0,a._)("span",{class:"token punctuation"},'"')]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("button")]),(0,a.Uk)(),(0,a._)("span",{class:"token attr-name"},"type"),(0,a._)("span",{class:"token attr-value"},[(0,a._)("span",{class:"token punctuation attr-equals"},"="),(0,a._)("span",{class:"token punctuation"},'"'),(0,a.Uk)("button"),(0,a._)("span",{class:"token punctuation"},'"')]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("Register"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("button")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"<"),(0,a.Uk)("button")]),(0,a.Uk)(),(0,a._)("span",{class:"token attr-name"},"type"),(0,a._)("span",{class:"token attr-value"},[(0,a._)("span",{class:"token punctuation attr-equals"},"="),(0,a._)("span",{class:"token punctuation"},'"'),(0,a.Uk)("submit"),(0,a._)("span",{class:"token punctuation"},'"')]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("Login"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("button")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n"),(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token tag"},[(0,a._)("span",{class:"token punctuation"},"</"),(0,a.Uk)("div")]),(0,a._)("span",{class:"token punctuation"},">")]),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),P=(0,a._)("div",{class:"language-scss line-numbers-mode","data-ext":"scss"},[(0,a._)("pre",{class:"language-scss"},[(0,a._)("code",null,[(0,a._)("span",{class:"token selector"},".button-container "),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token property"},"display"),(0,a._)("span",{class:"token punctuation"},":"),(0,a.Uk)(" flex"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token property"},"justify-content"),(0,a._)("span",{class:"token punctuation"},":"),(0,a.Uk)(" space-between"),(0,a._)("span",{class:"token punctuation"},";"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),F=(0,a.uE)('<ol start="9"><li>Il est temps de gérer les erreurs. La méthode subscribe peut prendre un objet qui propose trois callbacks: une <em>next</em>, une <em>error</em> et une <em>complete</em> (nous verrons cela plus en détail dans le chapitre suivant). Déclarer un signal <code>errorMessage</code> dans la classe <code>LoginFormComponent</code> et changer sa valeur en vous servant de l&#39;argument renvoyé par la callback <code>error</code>. Afficher le message d&#39;erreur sur le formulaire. Vérifier que le message d&#39;erreur s&#39;affiche bien lorsqu&#39;on saisit des identifiants incorrects.</li></ol>',1),G=(0,a._)("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[(0,a._)("pre",{class:"language-typescript"},[(0,a._)("code",null,[(0,a._)("span",{class:"token keyword"},"protected"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"readonly"),(0,a.Uk)(" errorMessage "),(0,a._)("span",{class:"token operator"},"="),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"signal"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token string"},"''"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token keyword"},"private"),(0,a.Uk)(),(0,a._)("span",{class:"token function"},"errorHandler"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("errorResponse"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" HttpErrorResponse"),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(),(0,a._)("span",{class:"token keyword"},"void"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("errorMessage"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"set"),(0,a._)("span",{class:"token punctuation"},"("),(0,a.Uk)("errorResponse"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("error"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("error "),(0,a._)("span",{class:"token operator"},"??"),(0,a.Uk)(),(0,a._)("span",{class:"token template-string"},[(0,a._)("span",{class:"token template-punctuation string"},"`"),(0,a._)("span",{class:"token interpolation"},[(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,a.Uk)("errorResponse"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("error"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("status"),(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,a._)("span",{class:"token string"}," - "),(0,a._)("span",{class:"token interpolation"},[(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"${"),(0,a.Uk)("errorResponse"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("error"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("statusText"),(0,a._)("span",{class:"token interpolation-punctuation punctuation"},"}")]),(0,a._)("span",{class:"token template-punctuation string"},"`")]),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n\n"),(0,a._)("span",{class:"token comment"},"// subscribe syntax"),(0,a.Uk)("\n"),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a.Uk)("authenticationService"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"login"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token keyword"},"this"),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"loginRequest"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},")"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"."),(0,a._)("span",{class:"token function"},"subscribe"),(0,a._)("span",{class:"token punctuation"},"("),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token function-variable function"},"next"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" response "),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(),(0,a._)("span",{class:"token comment"},"/* insérer du code ici */"),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},","),(0,a.Uk)("\n    "),(0,a._)("span",{class:"token function-variable function"},"error"),(0,a._)("span",{class:"token operator"},":"),(0,a.Uk)(" errorResponse "),(0,a._)("span",{class:"token operator"},"=>"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"{"),(0,a.Uk)(),(0,a._)("span",{class:"token comment"},"/* insérer du code ici */"),(0,a.Uk)(),(0,a._)("span",{class:"token punctuation"},"}"),(0,a.Uk)("\n  "),(0,a._)("span",{class:"token punctuation"},"}"),(0,a._)("span",{class:"token punctuation"},")"),(0,a.Uk)("\n")])]),(0,a._)("div",{class:"line-numbers","aria-hidden":"true"},[(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"}),(0,a._)("div",{class:"line-number"})])],-1),O=(0,a.uE)('<div class="custom-container tip"><p class="custom-container-title">hint</p><p>Pour une meilleure UX (User eXperience), penser à vider le champ <code>errorMessage</code> soit avant de lancer une nouvelle requête d&#39;authentification ou d&#39;enregistrement, soit dès que celles-ci se terminent en succès.</p></div><ol start="10"><li>Appelons maintenant le backend pour obtenir la liste des films. La route est sécurisée, ce qui signifie que le passage du token dans l&#39;en-tête est nécessaire. Angular fournit un mécanisme - les intercepteurs http - pour intercepter systématiquement les requêtes http, permettant de définir les en-têtes en un seul endroit.</li></ol><p>a. Utilisez le CLI pour en générer un : <code>ng generate interceptor interceptors/authentication</code>.</p><p>b. Voici son implémentation :</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> HttpInterceptorFn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/common/http&#39;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> AuthenticationService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;app/services/authentication.service&#39;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">const</span> authenticationInterceptor<span class="token operator">:</span> <span class="token function-variable function">HttpInterceptorFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>AuthenticationService<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">token</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> cloned <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      headers<span class="token operator">:</span> req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;Authorization&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n    <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>cloned<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>S&#39;il y a un token dans l&#39;<code>AuthenticationService</code>, l&#39;intercepteur l&#39;ajoutera aux en-têtes de la requête http.</p><p>c. Ajouter l&#39;intercepteur au provider de l&#39;<code>HttpClient</code> de l&#39;objet <code>appConfig</code>:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token function">provideHttpClient</span><span class="token punctuation">(</span><span class="token function">withInterceptors</span><span class="token punctuation">(</span><span class="token punctuation">[</span>authenticationInterceptor<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="11"><li>Créez un <code>FilmService</code> à l&#39;aide du CLI et implémentez l&#39;appel au endpoint <code>api/movies/search</code>. Notez que le queryParam <code>title</code> n&#39;est pas facultatif. Pour ajouter des query params à une requête, utilisez le paramètre <code>options</code> de la méthode get.</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>\n  params<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">HttpParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">,</span> title<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="12"><li><p>Apportez des modifications au <code>FilmSearchComponent</code> pour appeler ce nouveau service avec le titre renseigné par l&#39;utilisateur, enregistrez la réponse dans le signal <code>films</code> de la classe <code>FilmSearchComponent</code>.</p></li><li><p>Vérifiez que le token est envoyé sous forme d&#39;en-tête HTTP via les outils de développement de votre navigateur.</p></li></ol><details class="custom-container details"><summary>Résultat attendu</summary><p><img src="'+c+'" alt="Résultat visuel du TP http"></p><p><img src="'+l+'" alt="Résultat visuel du TP http"></p></details><h2 id="aller-plus-loin-httpresource" tabindex="-1"><a class="header-anchor" href="#aller-plus-loin-httpresource" aria-hidden="true">#</a> Aller plus loin : HttpResource</h2>',13),V=(0,a._)("code",null,"HttpClient",-1),D=(0,a._)("code",null,"rxjs",-1),N=(0,a._)("code",null,"HttpClient",-1),B=(0,a._)("code",null,"HttpResource",-1),Z={href:"https://angular.dev/guide/http/http-resource",target:"_blank",rel:"noopener noreferrer"},J={},M=(0,e(3744).Z)(J,[["render",function(n,s){const e=(0,a.up)("CodeGroupItem"),t=(0,a.up)("CodeGroup"),o=(0,a.up)("ExternalLinkIcon");return(0,a.wg)(),(0,a.iD)("div",null,[p,(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)(e,{title:"app.html"},{default:(0,a.w5)((()=>[i])),_:1}),(0,a.Wm)(e,{title:"app.scss"},{default:(0,a.w5)((()=>[u])),_:1})])),_:1}),r,(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)(e,{title:"Service"},{default:(0,a.w5)((()=>[k])),_:1}),(0,a.Wm)(e,{title:"Component"},{default:(0,a.w5)((()=>[d])),_:1})])),_:1}),_,(0,a._)("p",null,[(0,a.Uk)("La commande "),m,(0,a.Uk)(" vous demandera une clé d'API. Attendez que votre instructeur vous la donne ou vous pouvez en générer une "),(0,a._)("a",v,[(0,a.Uk)("ici"),(0,a.Wm)(o)])]),(0,a._)("div",U,[b,(0,a._)("p",null,[(0,a.Uk)("Le contrat d'interface backend est disponible ici : "),(0,a._)("a",g,[(0,a.Uk)("api-docs"),(0,a.Wm)(o)])])]),f,(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)(e,{title:"proxy.conf.json"},{default:(0,a.w5)((()=>[h])),_:1})])),_:1}),y,(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)(e,{title:"registration-request.ts"},{default:(0,a.w5)((()=>[w])),_:1}),(0,a.Wm)(e,{title:"login-request.ts"},{default:(0,a.w5)((()=>[q])),_:1}),(0,a.Wm)(e,{title:"user-response.ts"},{default:(0,a.w5)((()=>[x])),_:1}),(0,a.Wm)(e,{title:"user.ts"},{default:(0,a.w5)((()=>[j])),_:1})])),_:1}),(0,a._)("p",null,[(0,a.Uk)("Prenez note du token dans la "),C,(0,a.Uk)(", il servira à authentifier l'utilisateur via l'entête Authorization : "),A,(0,a.Uk)(". Apprenez-en plus sur les JWT "),(0,a._)("a",R,[(0,a.Uk)("ici"),(0,a.Wm)(o)]),(0,a.Uk)(".")]),L,(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)(e,{title:"authentication.service.ts"},{default:(0,a.w5)((()=>[S])),_:1})])),_:1}),z,(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)(e,{title:"login-form.component.ts"},{default:(0,a.w5)((()=>[I])),_:1})])),_:1}),T,(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)(e,{title:"authentication.service.ts"},{default:(0,a.w5)((()=>[W])),_:1})])),_:1}),E,(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)(e,{title:"HTML"},{default:(0,a.w5)((()=>[H])),_:1}),(0,a.Wm)(e,{title:"SCSS"},{default:(0,a.w5)((()=>[P])),_:1})])),_:1}),F,(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)(e,{title:"login-form.component.ts"},{default:(0,a.w5)((()=>[G])),_:1})])),_:1}),O,(0,a._)("p",null,[(0,a.Uk)("L'"),V,(0,a.Uk)(" utilise les Observables de la librairie "),D,(0,a.Uk)(". Avoir deux modèles de réactivité (les Observables et les signaux) qui coexistent au sein du même framework peut sembler étrange. Les Observables sont présents depuis la première version d'Angular et sont principalement rencontrés lors d'appels réseaux ou d'interactions avec les formulaires réactifs. Ils excellent dans des cas d'utilisation réactifs complexes qui ne constituent pas la majeure partie de la base de code d'une application Angular, mais qui sont essentiels au bon fonctionnement de votre application. Les signaux ne prendront pas le rôle des Observables car ils offrent une API moins puissante, toutefois ils remplaceront les Observables dans de nombreux cas plus simples. Un wrapper du "),N,(0,a.Uk)(" basé sur les signaux a été introduit en expérimental en Angular 19.2, le "),B,(0,a.Uk)(". Vous pouvez explorer ses capacités "),(0,a._)("a",Z,[(0,a.Uk)("ici"),(0,a.Wm)(o)]),(0,a.Uk)(". Il est conseillé de ne l’utiliser que pour les requêtes GET.")])])}]])},4887:(n,s,e)=>{e.r(s),e.d(s,{data:()=>a});const a=JSON.parse('{"key":"v-41615831","path":"/fr/services.html","title":"Services","lang":"fr-FR","frontmatter":{},"headers":[{"level":2,"title":"Dependency Injection","slug":"dependency-injection","link":"#dependency-injection","children":[]},{"level":2,"title":"TP : Gestion de l\'État","slug":"tp-gestion-de-l-etat","link":"#tp-gestion-de-l-etat","children":[]},{"level":2,"title":"Le HttpClient","slug":"le-httpclient","link":"#le-httpclient","children":[]},{"level":2,"title":"TP : Appeler un backend","slug":"tp-appeler-un-backend","link":"#tp-appeler-un-backend","children":[]},{"level":2,"title":"Aller plus loin : HttpResource","slug":"aller-plus-loin-httpresource","link":"#aller-plus-loin-httpresource","children":[]}],"git":{},"filePathRelative":"fr/services.md"}')},2843:(n,s,e)=>{n.exports=e.p+"assets/img/visual-6.506c9e0c.png"},3260:(n,s,e)=>{n.exports=e.p+"assets/img/visual-6a.b5c6adb8.png"},7422:(n,s,e)=>{n.exports=e.p+"assets/img/visual-7a.81fa3d56.png"},7151:(n,s,e)=>{n.exports=e.p+"assets/img/visual-7b.2b988ec0.png"}}]);