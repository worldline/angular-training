<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="logo.png"><meta name="theme-color" content="#8514F5"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title>Forms | Angular Training</title><meta name="description" content="Angular training docs">
    <link rel="stylesheet" href="/angular-training/assets/css/styles.d4c6a8a0.css">
    <link rel="preload" href="/angular-training/assets/js/runtime~app.a825557b.js" as="script"><link rel="preload" href="/angular-training/assets/css/styles.d4c6a8a0.css" as="style"><link rel="preload" href="/angular-training/assets/js/966.6bc1d20f.js" as="script"><link rel="preload" href="/angular-training/assets/js/app.2146f142.js" as="script"><link rel="preload" href="/angular-training/assets/js/v-409dd4d7.206b4a5f.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-47a172f9.291bf16d.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-406818d6.121aa16d.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-7c58cd95.88b1841b.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-335946b2.0a9b9405.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-43e14fc6.215e05d9.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-0b5ef6ea.c8cafacc.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-06867140.fc4ed588.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-41615831.c02b75ba.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-0f3c5d64.2f8c6ae0.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-04259cc7.31930dc5.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-7ba3cfc0.c87d4cf7.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-56a51099.e44197e4.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-66e9a7bd.d030d97c.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-76b3265c.57617f1a.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-dcd2f7ce.4327d6ae.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-4de770d4.688623d8.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-9f781948.3185612a.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-2f91e384.08bd7d0b.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-4a251b7e.f39af1e0.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-40885816.ed77776b.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-5753ab72.67971a99.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-7d1f12dc.2220acb2.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-a7994716.0eac4074.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-00a299a3.bc486f42.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-29b14426.ecbd918e.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-2d0a8b4a.e5989778.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-8daa1a0e.642f4708.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/783.d3c36333.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-3706649a.39bfcd51.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/angular-training/" class=""><!----><span class="site-name can-hide">Angular Training</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Language</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/angular-training/en/forms.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/angular-training/fr/" class="" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Language</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/angular-training/en/forms.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/angular-training/fr/" class="" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/angular-training/en/presentation.html" class="sidebar-item sidebar-heading" aria-label="Presentation of Angular"><!--[--><!--]--> Presentation of Angular <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/typescript.html" class="sidebar-item sidebar-heading" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/tooling.html" class="sidebar-item sidebar-heading" aria-label="Tooling"><!--[--><!--]--> Tooling <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/first-steps.html" class="sidebar-item sidebar-heading" aria-label="First steps"><!--[--><!--]--> First steps <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/template.html" class="sidebar-item sidebar-heading" aria-label="Empower your HTML"><!--[--><!--]--> Empower your HTML <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/pipes.html" class="sidebar-item sidebar-heading" aria-label="Pipes"><!--[--><!--]--> Pipes <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/components.html" class="sidebar-item sidebar-heading" aria-label="Components"><!--[--><!--]--> Components <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/routing.html" class="sidebar-item sidebar-heading" aria-label="Routing"><!--[--><!--]--> Routing <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/services.html" class="sidebar-item sidebar-heading" aria-label="Services"><!--[--><!--]--> Services <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/rxjs.html" class="sidebar-item sidebar-heading" aria-label="RxJS"><!--[--><!--]--> RxJS <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/angular-training/en/forms.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Forms"><!--[--><!--]--> Forms <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/angular-training/en/forms.html#template-driven-forms" class="router-link-active router-link-exact-active sidebar-item" aria-label="Template-driven forms"><!--[--><!--]--> Template-driven forms <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/angular-training/en/forms.html#reactive-forms" class="router-link-active router-link-exact-active sidebar-item" aria-label="Reactive forms"><!--[--><!--]--> Reactive forms <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/angular-training/en/forms.html#angular-managed-css-classes" class="router-link-active router-link-exact-active sidebar-item" aria-label="Angular-managed CSS classes"><!--[--><!--]--> Angular-managed CSS classes <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/angular-training/en/forms.html#practical-work-login-and-registration-with-reactive-forms" class="router-link-active router-link-exact-active sidebar-item" aria-label="Practical work: Login and registration with reactive forms"><!--[--><!--]--> Practical work: Login and registration with reactive forms <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/angular-training/en/forms.html#sources" class="router-link-active router-link-exact-active sidebar-item" aria-label="Sources"><!--[--><!--]--> Sources <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/angular-training/en/to-go-further.html" class="sidebar-item sidebar-heading" aria-label="To go further"><!--[--><!--]--> To go further <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/ecosystem.html" class="sidebar-item sidebar-heading" aria-label="Angular ecosystem"><!--[--><!--]--> Angular ecosystem <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="forms" tabindex="-1"><a class="header-anchor" href="#forms" aria-hidden="true">#</a> Forms</h1><p>Forms allow the web app to get user input. A form is generally composed of a form element (<code>&lt;form&gt;&lt;/form&gt;</code>) that contains input elements (<code>&lt;input /&gt;</code>) and a submit button (<code>&lt;button type=&quot;submit&quot;&gt;&lt;/button&gt;</code>). When the user submits the form, it is processed locally by the webapp. The latter can choose to send data to the server using the HTTP Client.</p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>In a Single Page Application, forms do not redirect to a server page when the user posts them (as in PHP for example). However, the SPA can retrieve the form data from the template and send it to the server if necessary using an async HTTP call.</p></div><p>Angular simplifies the common tasks related to creating and processing forms, such as data-binding, validation and sending the data to the server. This is possible using either one of those two types of forms:</p><ul><li>Template-driven forms: simple to use but far less scalable than reactive forms and are a good fit for simple forms of a few inputs with little to no validation rules.</li><li>Reactive forms: has a steep learning curve but offer more advantages in terms of management of complex use cases, scalability, reusability and testability. Their implementation is based on RxJS.</li></ul><h2 id="template-driven-forms" tabindex="-1"><a class="header-anchor" href="#template-driven-forms" aria-hidden="true">#</a> Template-driven forms</h2><p>As their name suggests, template-driven forms are fully defined in the template of the component. User input can be retrieved in the component class thanks to the <code>NgModel</code> directive. As you may remember, we have used it in the <em>Empower your HTML</em> chapter to order ice-creams.</p><p>Here is an example that uses <code>[(ngModel)]</code> to bind an <code>input</code> and <code>select</code> fields. It also shows how to get a reference to the form field (<code>#nameRef=&quot;ngModel&quot;</code>). This allows to obtain some properties on the form field such as its validity status (<code>nameRef.valid</code>).</p><iframe height="500" width="100%" src="https://stackblitz.com/github/worldline/atpw-template-driven-form/tree/master?startScript=start&amp;title=Template-Driven Form&amp;ctl=1&amp;embed=1&amp;file=src/app/app.component.ts"></iframe><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>Do not forget to import <code>FormsModule</code> when using template-driven forms</p></div><p>If you group the form fields in a <code>form</code> element (which you definitely should), you can take advantage of these nice possibilities:</p><ul><li>Get a reference to the whole form by capturing <code>ngForm</code> (example: <code>#formRef=&quot;ngForm&quot;</code>). This allows, for example, to get the validity status of the whole form</li><li>Listen to the submit event of the form using <code>(ngSubmit)</code></li></ul><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Prefer listening to <code>(ngSubmit)</code> on the <code>&lt;form&gt;</code> tag rather than the <code>(click)</code> on the submit button because the former supports the submission via the <em>enter</em> key on the keyboard and increases the accessibility of the form.</p></div><p>The following project illustrates the usage of <code>ngForm</code> and <code>(ngSubmit)</code></p><iframe height="500" width="100%" src="https://stackblitz.com/github/worldline/atpw-template-driven-form/tree/submit-example?startScript=start&amp;title=Template-Driven Form&amp;ctl=1&amp;embed=1&amp;file=src/app/app.component.ts"></iframe><p><strong>Exercise: add an input field that must have a minimum length of 5 characters. Show the content of this field when the form is submitted</strong></p><h2 id="reactive-forms" tabindex="-1"><a class="header-anchor" href="#reactive-forms" aria-hidden="true">#</a> Reactive forms</h2><p>Reactive forms allow to bind the whole HTML form element to its counterpart in the component class. This allows to combine the features of <code>ngModel</code> and form field references into a single concept which is a <code>FormControl</code> for a single form field and a <code>FormGroup</code> for a group of form fields. Please note that <code>FormControl</code>, <code>FormGroup</code> and other reactive form elements are defined in the <code>ReactiveFormsModule</code>.</p><h3 id="form-control" tabindex="-1"><a class="header-anchor" href="#form-control" aria-hidden="true">#</a> Form control</h3><p>A <code>FormControl</code> is a class that wraps the value as well as other information of a form field.</p><p>The following project rewrites the first example of the previous section using Reactive forms. Here, we define <code>FormControl</code> objects and link them with their counterpart on the template with <code>[formControl]</code>. The value of the attribute must have the same name as the property in the component. As you may note in the template, the value and the valid status of form inputs are obtained directly from the form control instance.</p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>Note that using FormControls outside of a FormGroup is very unusual.</p></div><iframe height="500" width="100%" src="https://stackblitz.com/github/worldline/atpw-template-driven-form/tree/reactive-form-transformation?startScript=start&amp;title=FormControl&amp;ctl=1&amp;embed=1&amp;file=src/app/app.component.ts"></iframe><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>Do not forget to import the <code>ReactiveFormsModule</code> when using reactive forms</p></div><h3 id="form-group" tabindex="-1"><a class="header-anchor" href="#form-group" aria-hidden="true">#</a> Form Group</h3><p>A <code>FormGroup</code> is a collection of form controls that are grouped together. It consists of a <code>FormGroup</code> instance that is bound in the template to a <code>&lt;form&gt;</code> tag via the <code>[formGroup]</code> attribute. Please note that child controls and groups use the attributes <code>formControlName</code> and <code>formGroupName</code> respectively in the template.</p><p>The following component defines a <code>FormGroup</code> that contains some form controls and another form group. It illustrates many uses cases related to forms: getting the form value, its status, defining validators on the form control or in the template, and accessing child controls and groups using the <code>controls</code> property.</p><iframe height="500" width="100%" src="https://stackblitz.com/github/worldline/atpw-reactive-form/tree/master?startScript=start&amp;title=FormGroup&amp;ctl=1&amp;embed=1&amp;file=src/app/app.component.ts"></iframe><h3 id="form-builder" tabindex="-1"><a class="header-anchor" href="#form-builder" aria-hidden="true">#</a> Form builder</h3><p>Angular <code>ReactiveFormsModule</code> provides a simpler API for creating FormGroups and FormControls via the <code>FormBuilder</code> service. The following code snippet shows how to convert the previous FormGroup declaration using the <code>FormBuilder</code> API.</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// before</span>
<span class="token keyword">protected</span> <span class="token keyword">readonly</span> iceCreamForm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormGroup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  customerName<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token string">&#39;Charlotte Smith&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  flavor<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> Validators<span class="token punctuation">.</span>required<span class="token punctuation">)</span><span class="token punctuation">,</span>
  toppings<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormGroup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    first<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token string">&#39;Whipped cream&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    second<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">FormControl</span><span class="token punctuation">(</span><span class="token string">&#39;Chocolate sauce&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//after</span>
<span class="token keyword">private</span> <span class="token keyword">readonly</span> fb <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>NonNullableFormBuilder<span class="token punctuation">)</span> <span class="token comment">//do not forget to inject the service</span>

<span class="token keyword">protected</span> <span class="token keyword">readonly</span> iceCreamForm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fb<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  customerName<span class="token operator">:</span> <span class="token string">&#39;Charlotte Smith&#39;</span><span class="token punctuation">,</span>
  flavor<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> Validators<span class="token punctuation">.</span>required<span class="token punctuation">]</span><span class="token punctuation">,</span>
  toppings<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fb<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    first<span class="token operator">:</span> <span class="token string">&#39;Whipped cream&#39;</span><span class="token punctuation">,</span>
    second<span class="token operator">:</span> <span class="token string">&#39;Chocolate sauce&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Please find below a complete example that uses the <code>FormBuilder</code> API.</p><iframe height="500" width="100%" src="https://stackblitz.com/github/worldline/atpw-reactive-form/tree/form-builder?startScript=start&amp;title=FormBuilder&amp;ctl=1&amp;embed=1&amp;file=src/app/app.component.ts"></iframe><h3 id="reactive-form-validation" tabindex="-1"><a class="header-anchor" href="#reactive-form-validation" aria-hidden="true">#</a> Reactive Form validation</h3><p>The <code>ReactiveFormsModule</code> allows to define validators in the component code or using HTML5 validation attributes such as <code>required</code> and <code>minlength</code>. Angular provides built-in validators such as <code>Validators.required</code>, <code>Validators.min</code>, <code>Validators.pattern</code>, you can find a complete list <a href="https://angular.dev/api/forms/Validators" target="_blank" rel="noopener noreferrer">here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. You can also define custom validators (<a href="https://angular.dev/guide/forms/form-validation#defining-custom-validators" target="_blank" rel="noopener noreferrer">tutorial<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>).</p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>When using HTML5 validators, Angular recommends to combine them with built-in <code>@angular/forms</code> validators.</p></div><p>The following component illustrates the usage of multiple validators on a form control as well as the use of a custom validator.</p><iframe height="500" width="100%" src="https://stackblitz.com/github/worldline/atpw-reactive-form/tree/validation?startScript=start&amp;title=Form Validation&amp;ctl=1&amp;embed=1&amp;file=src/app/app.component.ts"></iframe><h2 id="angular-managed-css-classes" tabindex="-1"><a class="header-anchor" href="#angular-managed-css-classes" aria-hidden="true">#</a> Angular-managed CSS classes</h2><p>Angular automatically adds and removes specific styles based on the status of the form. For example, when a form control/group is invalid, Angular adds to its HTML element the <code>.ng-invalid</code> class. When the form control/group becomes valid, Angular removes the <code>.ng-invalid</code> class from it and adds the <code>.ng-valid</code> class to it.</p><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>When a form control becomes invalid, both the control and its parent controls will get the <code>.ng-invalid</code> class. If this behavior is unwanted, you can use pseudo-classes such as <code>:not</code>.</p></div><p>The following component shows an example of how to take advantage of:</p><ul><li><code>.ng-invalid</code> and <code>.ng-dirty</code> classes</li><li><code>:not</code> pseudo-class to target only the control.</li></ul><iframe height="500" width="100%" src="https://stackblitz.com/github/worldline/atpw-reactive-form/tree/css-classes?startScript=start&amp;title=Angular-managed CSS classes&amp;ctl=1&amp;embed=1&amp;file=src/app/app.component.ts"></iframe><p>You can find an updated list of classes <a href="https://angular.dev/guide/forms/form-validation#control-status-css-classes" target="_blank" rel="noopener noreferrer">here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h2 id="practical-work-login-and-registration-with-reactive-forms" tabindex="-1"><a class="header-anchor" href="#practical-work-login-and-registration-with-reactive-forms" aria-hidden="true">#</a> Practical work: Login and registration with reactive forms</h2><ol><li><p>Implement the login / registration form using reactive forms and the form builder: replace the <code>[(ngModel)]</code> in the template and delete the <code>email</code> and <code>password</code> from the class of the <code>LoginFormComponent</code>, declare a <code>FormGroup</code> named <code>loginForm</code>.</p></li><li><p>Add the required validator (<code>Validators.required</code>) to both email and password fields. Show the text <code>&quot;This field is required&quot;</code> under each field if the form is dirty and that field has the error <code>required</code>:</p></li></ol><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>small</span><span class="token punctuation">&gt;</span></span>This field is required<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>small</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Hint</p><ul><li>You can get access to a specific <code>FormControl</code> instance using the <code>controls</code> property of the <code>FormGroup</code> containing it. For example for a <code>FormGroup</code> named <em>myFormGroup</em> and a <code>FormControl</code> named <em>myControl</em>:</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>myFormGroup<span class="token punctuation">.</span>controls<span class="token punctuation">.</span>myControl<span class="token punctuation">.</span>touched
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>You can check if a <code>FormControl</code> (more generally an <code>AbstractControl</code>) has a specific error by using the <code>hasError(&#39;error name&#39;)</code> method of the <code>FormControl</code> class. For example for a <code>FormGroup</code> named <em>myFormGroup</em>, a <code>FormControl</code> named <em>myControl</em> and an error <em>required</em>:</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>myFormGroup<span class="token punctuation">.</span>controls<span class="token punctuation">.</span>myControl<span class="token punctuation">.</span><span class="token function">hasError</span><span class="token punctuation">(</span><span class="token string">&#39;required&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><ol start="3"><li>Style the label and error text of each input that has the <code>.ng-invalid</code> class applied by angular but only when the form has the <code>ng-dirty</code> class. Be careful to target only those two elements (you can use the <code>+</code> CSS combinator and the <code>:has()</code> pseudo-class to that purpose).</li></ol><details class="custom-container details"><summary>Hint</summary><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:has" target="_blank" rel="noopener noreferrer">has() pseudo class<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Next-sibling_combinator" target="_blank" rel="noopener noreferrer">+ next-sibling combinator<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></details><details class="custom-container details"><summary>Correction</summary><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">form label:has(+ input.ng-invalid.ng-dirty), form.ng-dirty input.ng-invalid.ng-dirty + small</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ol start="4"><li><p>Disable the Login and Register buttons using the <code>[disabled]</code> attribute if the form is <em>invalid</em> and <em>dirty</em>.</p></li><li><p>Define a custom validator for the password field that refuses weak passwords. We will consider that a password is strong if it satisfies all of these requirements:</p></li></ol><ul><li>Contains at least one uppercase character (regex <code>/^.*[A-Z]+.*$/</code>)</li><li>Contains at least one lowercase character (regex <code>/^.*[a-z]+.*$/</code>)</li><li>Has at least one non-alphanumeric character (regex <code>/^.*\W+.*$/</code>)</li><li>Minimum length of 8 characters</li></ul><p>You can use the <code>test</code> method on each pattern and pass it the value of the control to check if the pattern exists in it.</p><p>Put that validator in <code>app/utils</code> and name it <code>password.validator.ts</code>.</p><details class="custom-container details"><summary>Help</summary><p>Here is its basic implementation:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">password</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ValidatorFn <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>control<span class="token operator">:</span> AbstractControl<span class="token punctuation">)</span><span class="token operator">:</span> ValidationErrors <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> uppercasePattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*[A-Z]+.*$</span><span class="token regex-delimiter">/</span></span>
    <span class="token keyword">const</span> lowercasePattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*[a-z]+.*$</span><span class="token regex-delimiter">/</span></span>
    <span class="token keyword">const</span> specialCharPattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.*\W+.*$</span><span class="token regex-delimiter">/</span></span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>control<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      uppercasePattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>control<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
      lowercasePattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>control<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
      specialCharPattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>control<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
      control<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">8</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;password.pattern&#39;</span><span class="token operator">:</span> <span class="token string">&#39;Password format is incorrect&#39;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>Add an error text (<code>The password doesn&#39;t comply with the policy</code>) under the password field (use a <code>&lt;small&gt;</code> tag) that shows if the form is dirty and the field has the <code>password.pattern</code> error.</p><h2 id="sources" tabindex="-1"><a class="header-anchor" href="#sources" aria-hidden="true">#</a> Sources</h2><ul><li><a href="https://angular.dev/guide/forms" target="_blank" rel="noopener noreferrer">Angular official forms documentation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/angular-training/en/rxjs.html" class="" aria-label="RxJS"><!--[--><!--]--> RxJS <!--[--><!--]--></a></span><span class="next"><a href="/angular-training/en/to-go-further.html" class="" aria-label="To go further"><!--[--><!--]--> To go further <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/angular-training/assets/js/v-409dd4d7.206b4a5f.js" defer></script><script src="/angular-training/assets/js/runtime~app.a825557b.js" defer></script><script src="/angular-training/assets/js/966.6bc1d20f.js" defer></script><script src="/angular-training/assets/js/app.2146f142.js" defer></script>
  </body>
</html>
