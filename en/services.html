<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="logo.png"><meta name="theme-color" content="#8514F5"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title>Services | Angular Training</title><meta name="description" content="Angular training docs">
    <link rel="stylesheet" href="/angular-training/assets/css/styles.d4c6a8a0.css">
    <link rel="preload" href="/angular-training/assets/js/runtime~app.a825557b.js" as="script"><link rel="preload" href="/angular-training/assets/css/styles.d4c6a8a0.css" as="style"><link rel="preload" href="/angular-training/assets/js/966.6bc1d20f.js" as="script"><link rel="preload" href="/angular-training/assets/js/app.2146f142.js" as="script"><link rel="preload" href="/angular-training/assets/js/v-0f3c5d64.2f8c6ae0.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-47a172f9.291bf16d.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-406818d6.121aa16d.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-7c58cd95.88b1841b.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-335946b2.0a9b9405.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-43e14fc6.215e05d9.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-0b5ef6ea.c8cafacc.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-06867140.fc4ed588.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-41615831.c02b75ba.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-04259cc7.31930dc5.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-7ba3cfc0.c87d4cf7.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-56a51099.e44197e4.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-66e9a7bd.d030d97c.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-76b3265c.57617f1a.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-dcd2f7ce.4327d6ae.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-4de770d4.688623d8.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-9f781948.3185612a.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-409dd4d7.206b4a5f.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-2f91e384.08bd7d0b.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-4a251b7e.f39af1e0.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-40885816.ed77776b.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-5753ab72.67971a99.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-7d1f12dc.2220acb2.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-a7994716.0eac4074.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-00a299a3.bc486f42.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-29b14426.ecbd918e.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-2d0a8b4a.e5989778.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-8daa1a0e.642f4708.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/783.d3c36333.js" as="script"><link rel="prefetch" href="/angular-training/assets/js/v-3706649a.39bfcd51.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/angular-training/" class=""><!----><span class="site-name can-hide">Angular Training</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Language</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/angular-training/en/services.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/angular-training/fr/" class="" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Language</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/angular-training/en/services.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/angular-training/fr/" class="" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/angular-training/en/presentation.html" class="sidebar-item sidebar-heading" aria-label="Presentation of Angular"><!--[--><!--]--> Presentation of Angular <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/typescript.html" class="sidebar-item sidebar-heading" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/tooling.html" class="sidebar-item sidebar-heading" aria-label="Tooling"><!--[--><!--]--> Tooling <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/first-steps.html" class="sidebar-item sidebar-heading" aria-label="First steps"><!--[--><!--]--> First steps <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/template.html" class="sidebar-item sidebar-heading" aria-label="Empower your HTML"><!--[--><!--]--> Empower your HTML <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/pipes.html" class="sidebar-item sidebar-heading" aria-label="Pipes"><!--[--><!--]--> Pipes <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/components.html" class="sidebar-item sidebar-heading" aria-label="Components"><!--[--><!--]--> Components <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/routing.html" class="sidebar-item sidebar-heading" aria-label="Routing"><!--[--><!--]--> Routing <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/angular-training/en/services.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Services"><!--[--><!--]--> Services <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/angular-training/en/services.html#dependency-injection" class="router-link-active router-link-exact-active sidebar-item" aria-label="Dependency Injection"><!--[--><!--]--> Dependency Injection <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/angular-training/en/services.html#practical-work-state-management" class="router-link-active router-link-exact-active sidebar-item" aria-label="Practical Work: State management"><!--[--><!--]--> Practical Work: State management <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/angular-training/en/services.html#the-httpclient" class="router-link-active router-link-exact-active sidebar-item" aria-label="The HttpClient"><!--[--><!--]--> The HttpClient <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/angular-training/en/services.html#practical-work-calling-a-backend" class="router-link-active router-link-exact-active sidebar-item" aria-label="Practical Work: Calling a backend"><!--[--><!--]--> Practical Work: Calling a backend <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/angular-training/en/services.html#to-go-further-httpresource" class="router-link-active router-link-exact-active sidebar-item" aria-label="To go further: HttpResource"><!--[--><!--]--> To go further: HttpResource <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/angular-training/en/rxjs.html" class="sidebar-item sidebar-heading" aria-label="RxJS"><!--[--><!--]--> RxJS <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/forms.html" class="sidebar-item sidebar-heading" aria-label="Forms"><!--[--><!--]--> Forms <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/to-go-further.html" class="sidebar-item sidebar-heading" aria-label="To go further"><!--[--><!--]--> To go further <!--[--><!--]--></a><!----></li><li><a href="/angular-training/en/ecosystem.html" class="sidebar-item sidebar-heading" aria-label="Angular ecosystem"><!--[--><!--]--> Angular ecosystem <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="services" tabindex="-1"><a class="header-anchor" href="#services" aria-hidden="true">#</a> Services</h1><p>Along with components and directives, services are one of the main building blocks of an Angular application.</p><p>A component&#39;s only concern should be displaying data and not managing it. Services are where the Angular team advocates placing the business logic and data management of the application. Having a clear separation between the presentation layer and the other processes of the application increases reusability and modularity.</p><p>Creating a service with the CLI is done as follows:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ng generate <span class="token function">service</span> services/example
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This will create the service and its associated test class in the <code>app/services</code> folder. It is a common practice to place services in a services folder, the CLI will create the folder if it doesn&#39;t already exists.</p><p>The following content is automatically generated in the <code>example.service.ts</code> file:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  providedIn<span class="token operator">:</span> <span class="token string">&#39;root&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExampleService</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When a component requires a service, the service should be injected in its class in the following manner:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ExampleService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;app/services/example.service&#39;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">&#39;app-example&#39;</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">&#39;./example.component.html&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> exampleService <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>ExampleService<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><br><br><br><br><br><br><div class="highlight-line"> </div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Always declare a dependency to a service as private. Indeed the template should never directly access a service but always go through a property or a method exposed by the component class.</p></div><h2 id="dependency-injection" tabindex="-1"><a class="header-anchor" href="#dependency-injection" aria-hidden="true">#</a> Dependency Injection</h2><p>In the previous chapter, we&#39;ve injected services provided by the <code>@angular/router</code> library in the components needing them. If you are familiar with Spring, you may not have thought much about it as it&#39;s one of the framework&#39;s mechanisms.</p><p>At bootstrap, Angular creates an application-wide injector. If other injectors are needed, Angular will create them along the way. The injector creates dependencies (most often in the form of services), and maintains a container of dependency instances that it reuses if possible. The injector gets the information about how to create or retrieve a dependency from a provider. A service usually acts as its own provider.</p><p>You may not have realized, but we have already used providers. In the pipe chapter, to use the <code>UpperCasePipe</code> in the component class instead of in the template, we added it to the providers array of the component.</p><p>When Angular discovers that a component depends on a service, it first checks if the injector has any existing instances of that service. If a requested service instance doesn&#39;t yet exist, the injector makes one using the registered provider, and adds it to the injector before returning the service to Angular. When all requested services have been resolved and returned, Angular can call the component&#39;s constructor.</p><p>Dependencies can be provided at three levels:</p><ul><li><strong>root level:</strong> this is the default behaviour when creating a service with the CLI. That is what <code>providedIn: &#39;root&#39;</code> means. The <em>same instance</em> of the dependency is injected everywhere it is needed as if it were a singleton.</li><li><strong>route level:</strong> the dependency is added to the providers array of the <code>Route</code>. The route and its children get their own instance of the dependency</li><li><strong>component level:</strong> the dependency is added to the providers array of the component. Each instance of that component gets its own instance of the dependency.</li></ul><h2 id="practical-work-state-management" tabindex="-1"><a class="header-anchor" href="#practical-work-state-management" aria-hidden="true">#</a> Practical Work: State management</h2><ol><li>Generate an <code>AuthenticationService</code> with the CLI in the <code>app/services</code> folder</li><li>Move the <code>loggedIn</code> logic from the <code>App</code> component to the service</li><li>Inject the service in the <code>LoginFormComponent</code> and use it.</li><li>Implement a logout method in the authentication service and add a logout button in the <code>App</code> component that calls it and navigates back to the <code>LoginFormComponent</code>. Here is the html and css:</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">app.html</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">app.scss</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Logout<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-outlet</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-outlet</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-scss line-numbers-mode" data-ext="scss"><pre class="language-scss"><code><span class="token selector">.logout </span><span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ol start="5"><li>Conditionally show the Logout button depending on the <code>loggedIn</code> status of the user. Expose the signal from the <code>AuthenticationService</code> in the <code>app.ts</code> file to pass data from the service to the template (it is a good practice to always declare a service as private in the component class so you&#39;ll need a variable in the component).</li><li>Use a navigation guard to redirect the user who wants to access the film search page to <code>/login</code> if they are not authenticated (make the CanActivateFn return true if the route can be accessed else return a <code>UrlTree</code> via the <code>createUrlTree</code> method of the <code>Router</code> service). To future-proof the guard, add a returnUrl as a queryParam to the returned <code>UrlTree</code> so that the <code>LoginFormComponent</code> knows where to navigate back to after authentication and modify the <code>LoginFormComponent</code> accordingly. To generate the navigation guard use the following CLI command:</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ng generate guard guards/authentication
<span class="token comment"># ? Which interfaces would you like to implement? CanActivate</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary>Help for injecting services into the guard function</summary><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> authenticationGuard<span class="token operator">:</span> <span class="token function-variable function">CanActivateFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>route<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> authenticationService <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>AuthenticationService<span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="custom-container details"><summary>Help for the UrlTree</summary><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token function">inject</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createUrlTree</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> queryParams<span class="token operator">:</span> <span class="token punctuation">{</span> returnUrl<span class="token operator">:</span> state<span class="token punctuation">.</span>url <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></details><details class="custom-container details"><summary>Expected result</summary><p><img src="/angular-training/assets/img/visual-6a.b5c6adb8.png" alt="Visual result of the services practical work"></p><p><img src="/angular-training/assets/img/visual-6.506c9e0c.png" alt="Visual result of the services practical work"></p></details><h2 id="the-httpclient" tabindex="-1"><a class="header-anchor" href="#the-httpclient" aria-hidden="true">#</a> The HttpClient</h2><p>In a Single Page Application (SPA), communication with the server is done via asynchronous HTTP requests (AJAX) or more specialized protocols such as WebSocket. We will see how to make these network requests from an Angular application.</p><p>Angular provides a module, the <code>HttpClientModule</code>, to make HTTP calls. The module provides an injectable service, the <code>HttpClient</code>, to make GET, POST, PATCH, DELETE and PUT requests. To inject the <code>HttpClient</code> in a service, first add the <code>HttpClientModule</code> to the providers array of the app in the <code>app.config.ts</code> file by passing it the <code>provideHttpClient()</code> function.</p><p>Here are a few examples:</p><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">Service</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">Component</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable<span class="token punctuation">,</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HttpClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/common/http&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rxjs&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> User <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;app/models/user/user&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UserCreation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;app/models/user/user-creation&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UserEdition <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;app/models/user/user-edition&#39;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  providedIn<span class="token operator">:</span> <span class="token string">&#39;root&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> httpClient <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>HttpClient<span class="token punctuation">)</span>

  <span class="token keyword">private</span> <span class="token keyword">readonly</span> baseUrl <span class="token operator">=</span> <span class="token string">&#39;api/backoffice/users&#39;</span>

  <span class="token function">create</span><span class="token punctuation">(</span>user<span class="token operator">:</span> UserCreation<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">post</span><span class="token generic class-name"><span class="token operator">&lt;</span>User<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>baseUrl<span class="token punctuation">,</span> user<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">update</span><span class="token punctuation">(</span>ref<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> user<span class="token operator">:</span> UserEdition<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">put</span><span class="token generic class-name"><span class="token operator">&lt;</span>User<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ref<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> user<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">getByUserReference</span><span class="token punctuation">(</span>ref<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>User<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ref<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> inject<span class="token punctuation">,</span> signal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> User <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;app/models/user/user&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UserService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;app/services/user.service&#39;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">&#39;app-user&#39;</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">&#39;./user.component.html&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">UserComponent</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">readonly</span> userService <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>UserService<span class="token punctuation">)</span>

  <span class="token keyword">protected</span> <span class="token keyword">readonly</span> user <span class="token operator">=</span> <span class="token generic-function"><span class="token function">signal</span><span class="token generic class-name"><span class="token operator">&lt;</span>User <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>
  <span class="token keyword">protected</span> reference <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>

  <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>userService<span class="token punctuation">.</span><span class="token function">getByUserReference</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reference<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>user <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>The methods from the <code>HttpClient</code> service return Observables. They will be covered in the next chapter about the RxJS library. An Observable is only executed once subscribed to via the <code>subscribe</code> method. The subscribe method is expecting at least one callback. It is most often provided as an arrow function.</p><h2 id="practical-work-calling-a-backend" tabindex="-1"><a class="header-anchor" href="#practical-work-calling-a-backend" aria-hidden="true">#</a> Practical Work: Calling a backend</h2><p>We will use an API (the <em>backend</em>) to authenticate users and search for films. This backend has already been developed and can be deployed locally using the following command line commands (clone in your usual repo folder):</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/worldline/vuejs-training-backend.git
<span class="token builtin class-name">cd</span> vuejs-training-backend
<span class="token function">npm</span> <span class="token function">install</span>
<span class="token function">npm</span> start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>npm start</code> command will ask you for an API key. Either wait on the instructor to give it to you, alternatively, you can generate one <a href="https://www.omdbapi.com/apikey.aspx?__EVENTTARGET=freeAcct&amp;__EVENTARGUMENT=&amp;__LASTFOCUS=&amp;__VIEWSTATE=%2FwEPDwUKLTIwNDY4MTIzNQ9kFgYCAQ9kFgICBw8WAh4HVmlzaWJsZWhkAgIPFgIfAGhkAgMPFgIfAGhkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYDBQtwYXRyZW9uQWNjdAUIZnJlZUFjY3QFCGZyZWVBY2N0oCxKYG7xaZwy2ktIrVmWGdWzxj%2FDhHQaAqqFYTiRTDE%3D&amp;__VIEWSTATEGENERATOR=5E550F58&amp;__EVENTVALIDATION=%2FwEdAAU%2BO86JjTqdg0yhuGR2tBukmSzhXfnlWWVdWIamVouVTzfZJuQDpLVS6HZFWq5fYpioiDjxFjSdCQfbG0SWduXFd8BcWGH1ot0k0SO7CfuulHLL4j%2B3qCcW3ReXhfb4KKsSs3zlQ%2B48KY6Qzm7wzZbR&amp;at=freeAcct&amp;Email=" target="_blank" rel="noopener noreferrer">here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>The backend interface contract is available here: <a href="http://localhost:3030/api-docs" target="_blank" rel="noopener noreferrer">api-docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><ol><li>Add to the <code>src</code> folder the <code>proxy.conf.json</code> file.</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">proxy.conf.json</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;/api/**&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:3030&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;changeOrigin&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pathRewrite&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;^/api&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>The proxy will divert all calls for http://localhost:4200/api to the server running at http://localhost:3030. It also makes sure we don&#39;t encounter any CORS issues (in the case the backend is not hosted on your machine). This configuration is only for the webpack or vite dev server the CLI provides to run the application on your machine in a dev environment. It will not be the configuration used in production.</p><ol start="2"><li>In the CLI configuration file - <code>angular.json</code> - add the <code>proxyConfig</code> option to the serve target:</li></ol><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>...
<span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;builder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@angular/build:dev-server&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;proxyConfig&quot;</span><span class="token operator">:</span> <span class="token string">&quot;src/proxy.conf.json&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;configurations&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
...
</code></pre><div class="highlight-lines"><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Restart the project as you have change the CLI config (<code>angular.json</code>).</p><ol start="3"><li><p>Add <code>provideHttpClient()</code> to the <code>providers</code> array of the <code>appConfig</code> object in the <code>app.config.ts</code> file.</p></li><li><p>Create the interfaces/classes for the models used by the backend, add one file per model in the <code>models/authentication</code> folder:</p></li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">registration-request.ts</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">login-request.ts</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">user-response.ts</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">user.ts</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">RegistrationRequest</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">public</span> email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> firstname<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> lastname<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LoginRequest</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">public</span> email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> password<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> User <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./user&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">UserResponse</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">public</span> user<span class="token operator">:</span> User<span class="token punctuation">,</span>
    <span class="token keyword">public</span> token<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">/* eslint-disable @typescript-eslint/naming-convention */</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">public</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> firstname<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> lastname<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> created_at<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    <span class="token keyword">public</span> update_at<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>Note the token in the <code>UserResponse</code>, it will serve to authenticate the user via the Authorization header: <code>Authorization: Bearer &lt;token&gt;</code>. Learn more about JWT <a href="https://jwt.io/introduction" target="_blank" rel="noopener noreferrer">here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><ol start="5"><li>Implement the <code>register</code> and <code>login</code> methods in the <code>AuthenticationService</code> as follows:</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">authentication.service.ts</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">private</span> <span class="token keyword">readonly</span> httpClient <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>HttpClient<span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">readonly</span> baseUrl <span class="token operator">=</span> <span class="token string">&#39;api/user&#39;</span>
<span class="token keyword">private</span> <span class="token keyword">readonly</span> token <span class="token operator">=</span> <span class="token generic-function"><span class="token function">signal</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token function">login</span><span class="token punctuation">(</span>loginRequest<span class="token operator">:</span> LoginRequest<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>UserResponse<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">post</span><span class="token generic class-name"><span class="token operator">&lt;</span>UserResponse<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/login</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> loginRequest<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">tap</span><span class="token punctuation">(</span>response <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">register</span><span class="token punctuation">(</span>loginRequest<span class="token operator">:</span> LoginRequest<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>UserResponse<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> registrationRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegistrationRequest</span><span class="token punctuation">(</span>
    loginRequest<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
    loginRequest<span class="token punctuation">.</span>password<span class="token punctuation">,</span>
    <span class="token string">&#39;John&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Smith&#39;</span>
  <span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>httpClient<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">post</span><span class="token generic class-name"><span class="token operator">&lt;</span>UserResponse<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/register</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> registrationRequest<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ol start="6"><li>The change in the call signature of the <code>login</code> method will require a bit of refactoring in the <code>LoginFormComponent</code>:</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">login-form.component.ts</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">private</span> <span class="token keyword">readonly</span> router <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">readonly</span> activatedRoute <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>ActivatedRoute<span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">readonly</span> authenticationService <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>AuthenticationService<span class="token punctuation">)</span>

<span class="token keyword">private</span> <span class="token keyword">readonly</span> loginRequest <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">LoginRequest</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>authenticationService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loginRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> postLoginRoute <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>activatedRoute<span class="token punctuation">.</span>snapshot<span class="token punctuation">.</span>queryParamMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;returnUrl&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>router<span class="token punctuation">.</span><span class="token function">navigateByUrl</span><span class="token punctuation">(</span>postLoginRoute <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>postLoginRoute<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>authenticationService<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loginRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ol start="7"><li>Refactoring is also needed to keep the <code>authenticationGuard</code> working. Make the <code>loggedIn</code> variable in the <code>AuthenticationService</code> a computed signal that depends on the <code>token</code> signal. You will also need to refactor the logout to empty the <code>token</code> signal value.</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">authentication.service.ts</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">readonly</span> loggedIn <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">token</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ol start="8"><li>Add a register button next to the login button in the <code>LoginFormComponent</code>, give it the attribute <code>type=&quot;button&quot;</code> so that Angular knows it is not this button that triggers the <code>ngSubmit</code> event on the form and make it call the register method. You should now be able to register a user and login. If you are having trouble, <strong>check the errors in the network tab</strong> of the developer tools (preview tab of the network call in error), your email or password may not comply with the policy.</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">HTML</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">SCSS</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Register<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-scss line-numbers-mode" data-ext="scss"><pre class="language-scss"><code><span class="token selector">.button-container </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ol start="9"><li>It is time to handle errors. The subscribe method can be passed an object that takes three callbacks: a <em>next</em>, an <em>error</em> and a <em>complete</em> (we will look at this in more details in the next chapter). Declare an <code>errorMessage</code> signal in the <code>LoginFormComponent</code> class and set it with the error information retrieved from the argument of the <code>error</code> callback. Display the error message on the form. Check that the error message is actually shown when you login with incorrect credentials.</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">login-form.component.ts</button></li></ul></div><!--[--><div class="code-group-item" aria-selected="false"><!--[--><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">protected</span> <span class="token keyword">readonly</span> errorMessage <span class="token operator">=</span> <span class="token function">signal</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">private</span> <span class="token function">errorHandler</span><span class="token punctuation">(</span>errorResponse<span class="token operator">:</span> HttpErrorResponse<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>errorMessage<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>errorResponse<span class="token punctuation">.</span>error<span class="token punctuation">.</span>error <span class="token operator">??</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>errorResponse<span class="token punctuation">.</span>error<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>errorResponse<span class="token punctuation">.</span>error<span class="token punctuation">.</span>statusText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// subscribe syntax</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>authenticationService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loginRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">next</span><span class="token operator">:</span> response <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* insert code here */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">error</span><span class="token operator">:</span> errorResponse <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* insert code here */</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><div class="custom-container tip"><p class="custom-container-title">hint</p><p>For a better UX (User eXperience), do not forget to clear the <code>errorMessage</code> field before launching a new login or registration request or as soon as a register or login succeeds.</p></div><ol start="10"><li>Let&#39;s now call the backend to get the list of films. The route is secured which means that passing the token in the header is necessary. Angular provides a mechanism - http interceptors - to systematically intercept http requests, allowing to define the headers in one place.</li></ol><p>a. Use the CLI to generate one: <code>ng generate interceptor interceptors/authentication</code>.</p><p>b. Here is its implementation:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> HttpInterceptorFn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/common/http&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AuthenticationService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;app/services/authentication.service&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@angular/core&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> authenticationInterceptor<span class="token operator">:</span> <span class="token function-variable function">HttpInterceptorFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span>AuthenticationService<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">token</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cloned <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      headers<span class="token operator">:</span> req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;Authorization&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>cloned<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If there is a token in the <code>AuthenticationService</code>, the interceptor will add it to the http request&#39;s headers.</p><p>c. Add the interceptor to the <code>HttpClient</code> provider in the <code>appConfig</code> object:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token function">provideHttpClient</span><span class="token punctuation">(</span><span class="token function">withInterceptors</span><span class="token punctuation">(</span><span class="token punctuation">[</span>authenticationInterceptor<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="11"><li>Create a <code>FilmService</code> using the CLI and implement the call to the <code>api/movies/search</code> endpoint. Note that the <code>title</code> queryParam is not optional. To add query params to a request, use the <code>options</code> parameter of the get method.</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  params<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">HttpParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">,</span> title<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="12"><li><p>Make changes to the <code>FilmSearchComponent</code> to call this new service with the title filled in by the user, save the response to the <code>films</code> signal field in the <code>FilmSearchComponent</code> class.</p></li><li><p>Check that the token is sent as a HTTP header via the developer tools of your browser.</p></li></ol><details class="custom-container details"><summary>Expected result</summary><p><img src="/angular-training/assets/img/visual-7a.81fa3d56.png" alt="Visual result of the http practical work"></p><p><img src="/angular-training/assets/img/visual-7b.2b988ec0.png" alt="Visual result of the http practical work"></p></details><h2 id="to-go-further-httpresource" tabindex="-1"><a class="header-anchor" href="#to-go-further-httpresource" aria-hidden="true">#</a> To go further: HttpResource</h2><p>The <code>HttpClient</code> makes use of Observables from the <code>rxjs</code> library. Having two reactivity models (Observables and signals) competing in the same framework may seem strange. Observables have been around since the first version of Angular and are mainly encountered whilst making http calls or interacting with reactive forms, they were not necessary everywhere thanks to <code>zone.js</code>. They shine in complex reactive use cases that don&#39;t form the bulk of an Angular application code base but that are essential to the proper running of your application. Signals won&#39;t take over the role of Observables as they offer a less powerful API, however they will replace Observables in many simpler cases. There&#39;s a signal-based wrapper for the <code>HttpClient</code> called <code>HttpResource</code> that was introduced in Angular 19.2 as experimental. You can explore its capabilities <a href="https://angular.dev/guide/http/http-resource" target="_blank" rel="noopener noreferrer">here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. It is advised to only use it for GET requests.</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/angular-training/en/routing.html" class="" aria-label="Routing"><!--[--><!--]--> Routing <!--[--><!--]--></a></span><span class="next"><a href="/angular-training/en/rxjs.html" class="" aria-label="RxJS"><!--[--><!--]--> RxJS <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/angular-training/assets/js/v-0f3c5d64.2f8c6ae0.js" defer></script><script src="/angular-training/assets/js/runtime~app.a825557b.js" defer></script><script src="/angular-training/assets/js/966.6bc1d20f.js" defer></script><script src="/angular-training/assets/js/app.2146f142.js" defer></script>
  </body>
</html>
